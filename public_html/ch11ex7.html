<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>ch11ex7</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>
    <body>
        <form action="" name="theForm">
            <select name="theDay" size="5">
                <option value="0" selected="selected">Monday</option>
                <option value="1">Tuesday</option>
                <option value="2">Wednesday</option>
                <option value="3">Thursday</option>
                <option value="4">Friday</option>
                <option value="5">Saturday</option>
                <option value="6">Sunday</option>
            </select>
            <br/>
            <input type="button" value="Remove Wednesday" name="btnRemoveWed" />
            <input type="button" value="Add Wednesday" name="btnAddWed" />
            
            <input type="button" value="Record Option" name="btnRecOpt" />
            <br/>
            <input type="text" value="default" name="showOpt" />
            
            
        </form>
        
        <script>
            var theForm = document.theForm;
            
            /*function btnRemoveWedClick() {
                var options = theForm.theDay.options;
                
                if (options[2].text == "Wednesday") {
                    options[2] = null;
                } else {
                    alert("There is no Wednesday here!");
                }
            }*/
    
            function btnRemoveWedClick() {
                var days = theForm.theDay;
                
                if (days.options[2].text == "Wednesday") {
                    days.remove(2);
                } else {
                    alert("No Wed to remove!");
                }
            }
            
            /*function btnAddWedClick() {
                var options = theForm.theDay.options;
                
                if (options[2].text != "Wednesday") {
                    var lastOption = new Option();
                    options[options.length] = lastOption;
                    
                    for (var index = options.length -1; index > 2; index--) {
                        var currentOption = options[index];
                        var previousOption = options[index - 1];
                        
                        currentOption.text = previousOption.text;
                        currentOption.value = previousOption.value;
                    }
                    
                    var option = new Option("Wednesday", 2);
                    options[2] = option;
                } else {
                    alert("Do you want to have TWO wednesdays?");
                }
            }*/
    
            function btnAddWedClick() {
                var days = theForm.theDay;
                var options = days.options;
                
                if (options[2].text != "Wednesday") {
                    var option = new Option("Wednesday", 2);
                    var thursdayOption = options[2];
                    
                    try {
                        day.add(option, thursdayOption);
                    }
                    catch (error) {
                        days.add(option, 2);
                    }
                } else {
                    alert ("You want TWO Wednesdays?");
                }
            }
            
            // added by ger as experiment 
            function btnRecOptClick() {
                var options = theForm.theDay.options;
                var showSelection = theForm.showOpt;
                
                for (var index = 0; index < options.length; index++) {
                    if (options[index].selected) {
                        showSelection.value = options[index].text;
                    }
                }
            }
            
            theForm.btnRemoveWed.addEventListener("click", btnRemoveWedClick);
            theForm.btnAddWed.addEventListener("click", btnAddWedClick);
            theForm.btnRecOpt.addEventListener("click", btnRecOptClick);
        </script>
    </body>
</html>
